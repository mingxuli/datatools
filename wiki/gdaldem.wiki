#summary DEM分析与可视化工具(GDAL 1.7.0以上版本包含此工具，FWTools2.4以上版本)
#labels DEM
== 语法 ==
* 生成山影效果图
{{{    
gdaldem hillshade input_dem output_hillshade
                [-z ZFactor (default=1)] [-s scale* (default=1)]
                [-az Azimuth (default=315)] [-alt Altitude (default=45)]
                [-b Band (default=1)] [-of format] [-co "NAME=VALUE"]* [-quiet]
}}}
* 生成坡度图
{{{
gdaldem slope input_dem output_slope_map
                [-p use percent slope (default=degrees)] [-s scale* (default=1)]
                [-b Band (default=1)] [-of format] [-co "NAME=VALUE"]* [-quiet]
}}}
* 生成坡向图，输出一个32比特的浮点型栅格数据，坡向值范围为0-360
{{{
gdaldem aspect input_dem output_aspect_map
                [-trigonometric] [-zero_for_flat]
                [-b Band (default=1)] [-of format] [-co "NAME=VALUE"]* [-quiet]
}}}
* 对DEM进行高程分色渲染
{{{
gdaldem color-relief input_dem color_text_file output_color_relief_map
                [-alpha]
                [-b Band (default=1)] [-of format] [-co "NAME=VALUE"]* [-quiet]
}}}

高度分色方案文件(color_text_file)的格式为:高度值 Red Green Blue

备注:
 Scale为DEM高度单位与长度单位的比值，如水平长度单位为十进制度,高度单位为Feet，则scale=370400,如果是Meters:LatLong，则scale=111120

== 参数说明 ==
=== 公共参数 ===
input_dem:
 待处理的DEM文件 
output_xxx_map:
 输出文件名 
-of format:
 输出文件格式，默认GeoTIFF(GTiff)格式. 
-b band:
 DME所在输入数据的波段序号，序号从1开始（对于多波段数据而言的）. 
-co "NAME=VALUE":
 设置输出文件参数. Multiple -co options may be listed. See format specific documentation for legal creation options for each format. 
-quiet:
 安静模式,Suppress progress monitor and other non-error output. 

===山影效果模式===
产生山地阴影效果图，输出结果为8比特的栅格数据，对于地形可视化非常有用。可以自定义太阳高度角和方位角、高度放大因子，以及垂向和水平方向的比值.
相关参数如下:
-z zFactor:
 高程缩放因子，可以夸大或缩小地形起伏程度。 
-s scale:
 高度和水平方向单位比值,当地图采用经纬度投影时十分有用，当水平长度单位为十进制度,高度单位为英尺(Feet)是，则scale=370400,如果高度单位为Meters，水平长度为度，则scale=111120.
-az azimuth:
 太阳方位角，单位度，起始方向为正北方，顺时针方向，东方为90度，南方为180度，以此类推.默认值为315度,一般情况下不需要改变该值. 
-alt altitude:
 太阳高度角,单位度，水平方向为0度，头顶方向为90度。默认值是45度. 
===坡度模式===
产生一个32比特的栅格图，每个栅格代表本地的坡度，浮点型.可以定义坡度类型，如度或百分比.如果水平单位为度，还可以设置高度长度比值(scaling).具体参数说明如下:
-p:
 如果选择该参数，则坡度单位为百分比，默认值为度。 
-s scale:
 高度和水平方向单位比值,当地图采用经纬度投影时十分有用，当水平长度单位为十进制度,高度单位为英尺(Feet)是，则scale=370400,如果高度单位为Meters，水平长度为度，则scale=111120.

===坡向模式===
 输出一个32比特的浮点型栅格数据，坡向值在0-360°之间，0表示正北方，90°表示南方.-9999用来代表无值区，也代表坡度为0的平面区域.具体参数如下:
-trigonometric:
 用三角函数度代替方位角.即起点在东方，第一象元为0-90度，第二象元为90-180度，以此类推。
-zero_for_flat:
 坡度为0的平地，方位角用0表示，而不是用-9999表示（ArcGIS就是用0表示）。 

===高程分色渲染模式===
给不同的DEM高度，设定一个特殊的颜色，以此来获得一个彩色的DEM图像，输出结果是一个RGB3波段栅格数据，高程颜色配置方法存储在文本文件中.一下是相关参数:
color_text_file:
 一个文本的高程颜色配置文件 
-alpha :
 为支持透明效果，在输出文件中增加一个alpha通道。 

颜色配置数据的格式为：
{{{
高度值,红色分量值，绿色分量值，蓝色分量值
}}}
红绿蓝分量的值在0-255之间，高程值可用绝对值表示也可用百分比表示，也可混用。如设置了alpha通道，可再增加一列，如果没有定义，默认值是不透明的full opacity (255).
分隔符支持逗号(半角,):Tab,空格和冒号(:).
颜色值也可以用颜色名称代替，支持white, black, red, green, blue, yellow, magenta, cyan, aqua, grey/gray, orange, brown, purple/violet and indigo等颜色名称.
示例:
{{{
3500   white
2500   235:220:175
50%   190 185 135
700    240 250 150
0      50  180  50
nv     0   0   0   0 
}}}
备注: 颜色语法配置方案来源于GRASS的r.colors工具.The alpha component and the support of tablulations and commma as separators are GDAL specific extensions.
-------
=== 作者信息 ===
* Matthew Perry <perrygeo@gmail.com>
* Even Rouault <even.rouault@mines-paris.org>,
* Howard Butler <hobu.inc@gmail.com>
=== 参考文献 ===
Derived from code by Michael Shapiro, Olga Waupotitsch, Marjorie Larson, Jim Westervelt : U.S. Army CERL, 1993. GRASS 4.1 Reference Manual. U.S. Army Corps of Engineers, Construction Engineering Research Laboratories, Champaign, Illinois, 1-425.
=== 其他信息 ===
GRASS相关工具的文档:
* http://grass.osgeo.org/grass64/manuals/html64_user/r.slope.aspect.html
* http://grass.osgeo.org/grass64/manuals/html64_user/r.shaded.relief.html
* http://grass.osgeo.org/grass64/manuals/html64_user/r.colors.html 