#summary DEM分析工具(GDAL 1.7.0版以后)
== 语法 ==
* 生成山影图
{{{    
gdaldem hillshade input_dem output_hillshade
                [-z ZFactor (default=1)] [-s scale* (default=1)]
                [-az Azimuth (default=315)] [-alt Altitude (default=45)]
                [-b Band (default=1)] [-of format] [-co "NAME=VALUE"]* [-quiet]
}}}
* 生成坡度图
{{{
gdaldem slope input_dem output_slope_map
                [-p use percent slope (default=degrees)] [-s scale* (default=1)]
                [-b Band (default=1)] [-of format] [-co "NAME=VALUE"]* [-quiet]
}}}
* 生成坡向图，输出一个32比特的浮点型栅格数据，坡向值范围为0-360
{{{
gdaldem aspect input_dem output_aspect_map
                [-trigonometric] [-zero_for_flat]
                [-b Band (default=1)] [-of format] [-co "NAME=VALUE"]* [-quiet]
}}}
* 按高度进行分色渲染
{{{
gdaldem color-relief input_dem color_text_file output_color_relief_map
                [-alpha]
                [-b Band (default=1)] [-of format] [-co "NAME=VALUE"]* [-quiet]
}}}

高度分色方案文件(color_text_file)的格式为:高度值 Red Green Blue

备注:
 Scale为DEM高度单位与长度单位的比值，如水平长度单位为十进制度,高度单位为Feet，则scale=370400,如果是Meters:LatLong，则scale=111120

== 参数说明 ==
=== 公共参数 ===
input_dem:
 待处理的DEM文件 
output_xxx_map:
 输出文件名 
-of format:
 输出文件格式，默认GeoTIFF(GTiff)格式. 
-b band:
 DME所在输入数据的波段序号，序号从1开始（对于多波段数据而言的）. 
-co "NAME=VALUE":
 设置输出文件参数. Multiple -co options may be listed. See format specific documentation for legal creation options for each format. 
-quiet:
 安静模式,Suppress progress monitor and other non-error output. 

===山影模式===
产生山地阴影效果图，输出结果为8比特的栅格数据，对于地形可视化非常有用。可以自定义太阳高度角和方位角、高度放大因子，以及垂向和水平方向的比值.
相关参数如下:
-z zFactor:
 高程缩放因子，可以夸大或缩小地形起伏程度。 
-s scale:
 高度和水平方向单位比值,当地图采用经纬度投影时十分有用，当水平长度单位为十进制度,高度单位为英尺(Feet)是，则scale=370400,如果高度单位为Meters，水平长度为度，则scale=111120.
-az azimuth:
 太阳方位角，单位度，起始方向为正北方，顺时针方向，东方为90度，南方为180度，以此类推.默认值为315度,一般情况下不需要改变该值. 
-alt altitude:
 太阳高度角,单位度，水平方向为0度，头顶方向为90度。默认值是45度. 
===slope模式===
This command will take a DEM raster and output a 32-bit float raster with slope values. You have the option of specifying the type of slope value you want: degrees or percent slope. In cases where the horizontal units differ from the vertical units, you can also supply a scaling factor.

The following specific options are available :

-p :
    if specified, the slope will be expressed as percent slope. Otherwise, it is expressed as degrees 
-s scale:
    ratio of vertical units to horizontal. If the horizontal unit of the source DEM is degrees (e.g Lat/Long WGS84 projection), you can use scale=111120 if the vertical units are meters (or scale=370400 if they are in feet) 

===aspect模式===
This command outputs a 32-bit float raster with values between 0° and 360° representing the azimuth that slopes are facing. The definition of the azimuth is such that : 0° means that the slope is facing the North, 90° it's facing the East, 180° it's facing the South and 270° it's facing the West (provided that the top of your input raster is north oriented). The aspect value -9999 is used as the nodata value to indicate undefined aspect in flat areas with slope=0.

The following specifics options are available :

-trigonometric:
    return trigonometric angle instead of azimuth. Thus 0° means East, 90° North, 180° West, 270° South 
-zero_for_flat:
    return 0 for flat areas with slope=0, instead of -9999 

By using those 2 options, the aspect returned by gdaldem aspect should be identical to the one of GRASS r.slope.aspect. Otherwise, it's identical to the one of Matthew Perry's aspect.cpp utility.
===color-relief模式===
This command outputs a 3-band (RGB) raster with values are computed from the elevation and a text-based color configuration file, containing the association between various elevation values and the corresponding wished color. The colors between the given elevation values are blended smoothly and the result is a nice colorized DEM.

The following specifics options are available :

color_text_file:
    text-based color configuration file 
-alpha :
    add an alpha channel to the output raster 

The text-based color configuration file generally contains 4 columns per line : the elevation value and the corresponding Red, Green, Blue component (between 0 and 255). The elevation value can be any floating point value, or the nv keyword for the nodata value.. The elevation can also be expressed as a percentage : 0% being the minimum value found in the raster, 100% the maximum value.

An extra column can be optionnaly added for the alpha component. If it is not specified, full opacity (255) is assumed.

Various field separators are accepted : comma, tabulation, spaces, ':'.

Common colors used by GRASS can also be specified by using their name, instead of the RGB triplet. The supported list is : white, black, red, green, blue, yellow, magenta, cyan, aqua, grey/gray, orange, brown, purple/violet and indigo.

备注: the syntax of the color configuration file is derived from the one supported by GRASS r.colors utility. The alpha component and the support of tablulations and commma as separators are GDAL specific extensions.

For example :
3500   white
2500   235:220:175
50%   190 185 135
700    240 250 150
0      50  180  50
nv     0   0   0   0 
-------
* AUTHORS
Matthew Perry <perrygeo@gmail.com>, Even Rouault <even.rouault@mines-paris.org>, Howard Butler <hobu.inc@gmail.com>
Derived from code by Michael Shapiro, Olga Waupotitsch, Marjorie Larson, Jim Westervelt : U.S. Army CERL, 1993. GRASS 4.1 Reference Manual. U.S. Army Corps of Engineers, Construction Engineering Research Laboratories, Champaign, Illinois, 1-425.
See also
* Documentation of related GRASS utilities :
http://grass.osgeo.org/grass64/manuals/html64_user/r.slope.aspect.html
http://grass.osgeo.org/grass64/manuals/html64_user/r.shaded.relief.html
http://grass.osgeo.org/grass64/manuals/html64_user/r.colors.html 